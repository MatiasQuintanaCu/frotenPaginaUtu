# ===========================================================
# .htaccess para proyecto con frontend y API en XAMPP
# ===========================================================

<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteBase /

    # Si el archivo o carpeta existe, no se reescribe
    RewriteCond %{REQUEST_FILENAME} -f [OR]
    RewriteCond %{REQUEST_FILENAME} -d
    RewriteRule ^ - [L]

    # -------------------------------------------------------
    # API: redirige todo lo que empiece con "api/"
    # Ejemplo: /api/v1/user/login → api/index.php?request=v1/user/login
    # -------------------------------------------------------
    RewriteRule ^api/(.*)$ api/index.php?request=$1 [QSA,L]

    # -------------------------------------------------------
    # FRONTEND: cualquier otra cosa va a index.php
    # -------------------------------------------------------
    RewriteRule ^ index.php [L]
</IfModule>

# Seguridad básica
Options -Indexes
<Files .htaccess>
    Require all denied
</Files>
